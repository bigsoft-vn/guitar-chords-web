{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Alert,AlertTitle,IconButton,Collapse}from'@mui/material';import{Close,Warning}from'@mui/icons-material';import{GlobalErrorHandler}from'../utils/errorHandler';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ExtensionNotice=()=>{const[showNotice,setShowNotice]=useState(false);const[dismissed,setDismissed]=useState(false);useEffect(()=>{// Check if browser extensions are detected\nconst hasExtensions=GlobalErrorHandler.isExtensionEnvironment();const isDevelopment=process.env.NODE_ENV==='development';const hasBeenDismissed=localStorage.getItem('extension-notice-dismissed')==='true';if(hasExtensions&&isDevelopment&&!hasBeenDismissed){setShowNotice(true);}},[]);const handleDismiss=()=>{setDismissed(true);setShowNotice(false);localStorage.setItem('extension-notice-dismissed','true');};if(!showNotice||dismissed){return null;}return/*#__PURE__*/_jsx(Collapse,{in:showNotice,children:/*#__PURE__*/_jsxs(Alert,{severity:\"info\",sx:{mb:2},action:/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"close\",color:\"inherit\",size:\"small\",onClick:handleDismiss,children:/*#__PURE__*/_jsx(Close,{fontSize:\"inherit\"})}),icon:/*#__PURE__*/_jsx(Warning,{}),children:[/*#__PURE__*/_jsx(AlertTitle,{children:\"Ph\\xE1t hi\\u1EC7n Browser Extension\"}),\"N\\u1EBFu b\\u1EA1n g\\u1EB7p l\\u1ED7i JavaScript trong console, c\\xF3 th\\u1EC3 do browser extension (MetaMask, etc.) g\\xE2y ra. Nh\\u1EEFng l\\u1ED7i n\\xE0y kh\\xF4ng \\u1EA3nh h\\u01B0\\u1EDFng \\u0111\\u1EBFn \\u1EE9ng d\\u1EE5ng Guitar Chords.\"]})});};export default ExtensionNotice;","map":{"version":3,"names":["React","useState","useEffect","Alert","AlertTitle","IconButton","Collapse","Close","Warning","GlobalErrorHandler","jsx","_jsx","jsxs","_jsxs","ExtensionNotice","showNotice","setShowNotice","dismissed","setDismissed","hasExtensions","isExtensionEnvironment","isDevelopment","process","env","NODE_ENV","hasBeenDismissed","localStorage","getItem","handleDismiss","setItem","in","children","severity","sx","mb","action","color","size","onClick","fontSize","icon"],"sources":["/Users/chungtran/Programming/guitar-chords/web/src/components/ExtensionNotice.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Alert, AlertTitle, IconButton, Collapse } from '@mui/material';\nimport { Close, Warning } from '@mui/icons-material';\nimport { GlobalErrorHandler } from '../utils/errorHandler';\n\nconst ExtensionNotice: React.FC = () => {\n  const [showNotice, setShowNotice] = useState(false);\n  const [dismissed, setDismissed] = useState(false);\n\n  useEffect(() => {\n    // Check if browser extensions are detected\n    const hasExtensions = GlobalErrorHandler.isExtensionEnvironment();\n    const isDevelopment = process.env.NODE_ENV === 'development';\n    const hasBeenDismissed = localStorage.getItem('extension-notice-dismissed') === 'true';\n    \n    if (hasExtensions && isDevelopment && !hasBeenDismissed) {\n      setShowNotice(true);\n    }\n  }, []);\n\n  const handleDismiss = () => {\n    setDismissed(true);\n    setShowNotice(false);\n    localStorage.setItem('extension-notice-dismissed', 'true');\n  };\n\n  if (!showNotice || dismissed) {\n    return null;\n  }\n\n  return (\n    <Collapse in={showNotice}>\n      <Alert \n        severity=\"info\" \n        sx={{ mb: 2 }}\n        action={\n          <IconButton\n            aria-label=\"close\"\n            color=\"inherit\"\n            size=\"small\"\n            onClick={handleDismiss}\n          >\n            <Close fontSize=\"inherit\" />\n          </IconButton>\n        }\n        icon={<Warning />}\n      >\n        <AlertTitle>Phát hiện Browser Extension</AlertTitle>\n        Nếu bạn gặp lỗi JavaScript trong console, có thể do browser extension (MetaMask, etc.) gây ra. \n        Những lỗi này không ảnh hưởng đến ứng dụng Guitar Chords.\n      </Alert>\n    </Collapse>\n  );\n};\n\nexport default ExtensionNotice;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,KAAK,CAAEC,UAAU,CAAEC,UAAU,CAAEC,QAAQ,KAAQ,eAAe,CACvE,OAASC,KAAK,CAAEC,OAAO,KAAQ,qBAAqB,CACpD,OAASC,kBAAkB,KAAQ,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE3D,KAAM,CAAAC,eAAyB,CAAGA,CAAA,GAAM,CACtC,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGf,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAACgB,SAAS,CAAEC,YAAY,CAAC,CAAGjB,QAAQ,CAAC,KAAK,CAAC,CAEjDC,SAAS,CAAC,IAAM,CACd;AACA,KAAM,CAAAiB,aAAa,CAAGV,kBAAkB,CAACW,sBAAsB,CAAC,CAAC,CACjE,KAAM,CAAAC,aAAa,CAAGC,OAAO,CAACC,GAAG,CAACC,QAAQ,GAAK,aAAa,CAC5D,KAAM,CAAAC,gBAAgB,CAAGC,YAAY,CAACC,OAAO,CAAC,4BAA4B,CAAC,GAAK,MAAM,CAEtF,GAAIR,aAAa,EAAIE,aAAa,EAAI,CAACI,gBAAgB,CAAE,CACvDT,aAAa,CAAC,IAAI,CAAC,CACrB,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAY,aAAa,CAAGA,CAAA,GAAM,CAC1BV,YAAY,CAAC,IAAI,CAAC,CAClBF,aAAa,CAAC,KAAK,CAAC,CACpBU,YAAY,CAACG,OAAO,CAAC,4BAA4B,CAAE,MAAM,CAAC,CAC5D,CAAC,CAED,GAAI,CAACd,UAAU,EAAIE,SAAS,CAAE,CAC5B,MAAO,KAAI,CACb,CAEA,mBACEN,IAAA,CAACL,QAAQ,EAACwB,EAAE,CAAEf,UAAW,CAAAgB,QAAA,cACvBlB,KAAA,CAACV,KAAK,EACJ6B,QAAQ,CAAC,MAAM,CACfC,EAAE,CAAE,CAAEC,EAAE,CAAE,CAAE,CAAE,CACdC,MAAM,cACJxB,IAAA,CAACN,UAAU,EACT,aAAW,OAAO,CAClB+B,KAAK,CAAC,SAAS,CACfC,IAAI,CAAC,OAAO,CACZC,OAAO,CAAEV,aAAc,CAAAG,QAAA,cAEvBpB,IAAA,CAACJ,KAAK,EAACgC,QAAQ,CAAC,SAAS,CAAE,CAAC,CAClB,CACb,CACDC,IAAI,cAAE7B,IAAA,CAACH,OAAO,GAAE,CAAE,CAAAuB,QAAA,eAElBpB,IAAA,CAACP,UAAU,EAAA2B,QAAA,CAAC,qCAA2B,CAAY,CAAC,6OAGtD,EAAO,CAAC,CACA,CAAC,CAEf,CAAC,CAED,cAAe,CAAAjB,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}