{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{useNavigate,useParams}from'react-router-dom';import{Container,Box,Typography,Button,Card,CardContent,IconButton,Slider,Chip,Dialog,DialogTitle,DialogContent,Paper}from'@mui/material';import{ArrowBackRounded,PlayArrowRounded,PauseRounded,SkipPreviousRounded,SkipNextRounded,SpeedRounded}from'@mui/icons-material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MusicPlayer=()=>{const navigate=useNavigate();const{songId}=useParams();const[isPlaying,setIsPlaying]=useState(false);const[currentLine,setCurrentLine]=useState(0);const[scrollSpeed,setScrollSpeed]=useState(1);const[selectedChord,setSelectedChord]=useState(null);const[showChordDialog,setShowChordDialog]=useState(false);const scrollContainerRef=useRef(null);const intervalRef=useRef(null);const song={id:songId||'1',title:'Mưa Phi Trường',artist:'Hoàng Dũng',tempo:80,lyrics:`Verse 1:\nEm có thấy mưa kia đang rơi\nTrên sân bay xa xôi\nCó thấy em trong cơn mưa ấy\nĐang đứng đợi ai\n\nChorus:\nMưa rơi trên sân bay\nEm đứng đó một mình\nNhìn máy bay cất cánh\nBay về phía thiên đường\n\nVerse 2:\nCó biết rằng người đã xa rồi\nKhông bao giờ trở về\nNhưng em vẫn đứng đây\nChờ đợi một phép màu`,chords:[{chord:'Am',position:15,line:0},{chord:'Dm',position:8,line:1},{chord:'G',position:12,line:2},{chord:'C',position:6,line:3},{chord:'Am',position:10,line:5},{chord:'F',position:8,line:6},{chord:'G',position:12,line:7},{chord:'C',position:15,line:8},{chord:'Dm',position:18,line:10},{chord:'Am',position:12,line:11},{chord:'F',position:10,line:12},{chord:'G',position:8,line:13}]};const lyricsLines=song.lyrics.split('\\n');useEffect(()=>{if(isPlaying){intervalRef.current=setInterval(()=>{setCurrentLine(prev=>{if(prev<lyricsLines.length-1){return prev+1;}else{setIsPlaying(false);return 0;}});},60/song.tempo*1000/scrollSpeed);}else{if(intervalRef.current){clearInterval(intervalRef.current);}}return()=>{if(intervalRef.current){clearInterval(intervalRef.current);}};},[isPlaying,scrollSpeed,song.tempo,lyricsLines.length]);useEffect(()=>{if(scrollContainerRef.current){const container=scrollContainerRef.current;const lineHeight=60;const targetScroll=currentLine*lineHeight-container.clientHeight/2;container.scrollTo({top:Math.max(0,targetScroll),behavior:'smooth'});}},[currentLine]);const togglePlayPause=()=>{setIsPlaying(!isPlaying);};const handleChordClick=chord=>{setSelectedChord(chord);setShowChordDialog(true);};const renderLineWithChords=(line,lineIndex)=>{const lineChords=song.chords.filter(c=>c.line===lineIndex);if(lineChords.length===0){return/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{py:1,backgroundColor:currentLine===lineIndex?'primary.light':'transparent',color:currentLine===lineIndex?'white':'inherit',borderRadius:1,px:2,transition:'all 0.3s ease'},children:line},lineIndex);}const parts=[];let lastPos=0;lineChords.sort((a,b)=>a.position-b.position).forEach((chordPos,index)=>{if(chordPos.position>lastPos){parts.push(line.slice(lastPos,chordPos.position));}parts.push(/*#__PURE__*/_jsx(Chip,{label:chordPos.chord,onClick:()=>handleChordClick(chordPos.chord),variant:\"outlined\",size:\"small\",sx:{mx:0.5,cursor:'pointer','&:hover':{backgroundColor:'primary.light'}}},`chord-${index}`));lastPos=chordPos.position;});if(lastPos<line.length){parts.push(line.slice(lastPos));}return/*#__PURE__*/_jsx(Box,{sx:{py:1,backgroundColor:currentLine===lineIndex?'primary.light':'transparent',color:currentLine===lineIndex?'white':'inherit',borderRadius:1,px:2,transition:'all 0.3s ease',display:'flex',alignItems:'center',flexWrap:'wrap',minHeight:'40px'},children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",component:\"span\",children:parts})},lineIndex);};return/*#__PURE__*/_jsxs(Container,{maxWidth:\"md\",sx:{py:4},children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",flexDirection:\"column\",gap:4,children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",gap:2,children:[/*#__PURE__*/_jsx(IconButton,{onClick:()=>navigate('/'),children:/*#__PURE__*/_jsx(ArrowBackRounded,{})}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",fontWeight:\"bold\",children:song.title}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"text.secondary\",children:song.artist})]})]}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",gap:2,mb:2,children:[/*#__PURE__*/_jsx(IconButton,{size:\"large\",children:/*#__PURE__*/_jsx(SkipPreviousRounded,{})}),/*#__PURE__*/_jsx(IconButton,{size:\"large\",onClick:togglePlayPause,color:\"primary\",children:isPlaying?/*#__PURE__*/_jsx(PauseRounded,{}):/*#__PURE__*/_jsx(PlayArrowRounded,{})}),/*#__PURE__*/_jsx(IconButton,{size:\"large\",children:/*#__PURE__*/_jsx(SkipNextRounded,{})})]}),/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",gap:2,mb:2,children:[/*#__PURE__*/_jsx(SpeedRounded,{}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"T\\u1ED1c \\u0111\\u1ED9 cu\\u1ED9n:\"}),/*#__PURE__*/_jsx(Slider,{value:scrollSpeed,onChange:(_,value)=>setScrollSpeed(value),min:0.5,max:3,step:0.1,sx:{width:200},valueLabelDisplay:\"auto\",valueLabelFormat:value=>`${value}x`})]})]})}),/*#__PURE__*/_jsx(Paper,{ref:scrollContainerRef,sx:{maxHeight:'60vh',overflow:'auto',p:3,backgroundColor:'grey.50'},children:lyricsLines.map((line,index)=>renderLineWithChords(line,index))}),/*#__PURE__*/_jsxs(Box,{display:\"flex\",gap:2,flexWrap:\"wrap\",justifyContent:\"center\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",width:\"100%\",textAlign:\"center\",mb:1,children:\"H\\u1EE3p \\xE2m trong b\\xE0i:\"}),Array.from(new Set(song.chords.map(c=>c.chord))).map(chord=>/*#__PURE__*/_jsx(Chip,{label:chord,onClick:()=>handleChordClick(chord),variant:\"outlined\",sx:{cursor:'pointer','&:hover':{backgroundColor:'primary.light'}}},chord))]})]}),/*#__PURE__*/_jsxs(Dialog,{open:showChordDialog,onClose:()=>setShowChordDialog(false),maxWidth:\"sm\",fullWidth:true,children:[/*#__PURE__*/_jsxs(DialogTitle,{children:[\"H\\u1EE3p \\xE2m \",selectedChord]}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsxs(Box,{textAlign:\"center\",py:2,children:[/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",mb:2,children:[\"B\\u1EA5m v\\xE0o \\u0111\\u1EC3 xem chi ti\\u1EBFt c\\xE1ch b\\u1EA5m h\\u1EE3p \\xE2m \",selectedChord]}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:()=>{setShowChordDialog(false);navigate(`/chord/${selectedChord}`);},children:\"Xem h\\u01B0\\u1EDBng d\\u1EABn chi ti\\u1EBFt\"})]})})]})]});};export default MusicPlayer;","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","useParams","Container","Box","Typography","Button","Card","CardContent","IconButton","Slider","Chip","Dialog","DialogTitle","DialogContent","Paper","ArrowBackRounded","PlayArrowRounded","PauseRounded","SkipPreviousRounded","SkipNextRounded","SpeedRounded","jsx","_jsx","jsxs","_jsxs","MusicPlayer","navigate","songId","isPlaying","setIsPlaying","currentLine","setCurrentLine","scrollSpeed","setScrollSpeed","selectedChord","setSelectedChord","showChordDialog","setShowChordDialog","scrollContainerRef","intervalRef","song","id","title","artist","tempo","lyrics","chords","chord","position","line","lyricsLines","split","current","setInterval","prev","length","clearInterval","container","lineHeight","targetScroll","clientHeight","scrollTo","top","Math","max","behavior","togglePlayPause","handleChordClick","renderLineWithChords","lineIndex","lineChords","filter","c","variant","sx","py","backgroundColor","color","borderRadius","px","transition","children","parts","lastPos","sort","a","b","forEach","chordPos","index","push","slice","label","onClick","size","mx","cursor","display","alignItems","flexWrap","minHeight","component","maxWidth","flexDirection","gap","fontWeight","justifyContent","mb","value","onChange","_","min","step","width","valueLabelDisplay","valueLabelFormat","ref","maxHeight","overflow","p","map","textAlign","Array","from","Set","open","onClose","fullWidth"],"sources":["/Users/chungtran/Programming/guitar-chords/src/components/MusicPlayer.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport {\n  Container,\n  Box,\n  Typography,\n  Button,\n  Card,\n  CardContent,\n  IconButton,\n  Slider,\n  Chip,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  Paper,\n} from '@mui/material';\nimport {\n  ArrowBackRounded,\n  PlayArrowRounded,\n  PauseRounded,\n  SkipPreviousRounded,\n  SkipNextRounded,\n  SpeedRounded,\n} from '@mui/icons-material';\n\ninterface Song {\n  id: string;\n  title: string;\n  artist: string;\n  lyrics: string;\n  chords: ChordPosition[];\n  tempo: number;\n}\n\ninterface ChordPosition {\n  chord: string;\n  position: number;\n  line: number;\n}\n\nconst MusicPlayer: React.FC = () => {\n  const navigate = useNavigate();\n  const { songId } = useParams();\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentLine, setCurrentLine] = useState(0);\n  const [scrollSpeed, setScrollSpeed] = useState(1);\n  const [selectedChord, setSelectedChord] = useState<string | null>(null);\n  const [showChordDialog, setShowChordDialog] = useState(false);\n  const scrollContainerRef = useRef<HTMLDivElement>(null);\n  const intervalRef = useRef<NodeJS.Timeout | null>(null);\n\n  const song: Song = {\n    id: songId || '1',\n    title: 'Mưa Phi Trường',\n    artist: 'Hoàng Dũng',\n    tempo: 80,\n    lyrics: `Verse 1:\nEm có thấy mưa kia đang rơi\nTrên sân bay xa xôi\nCó thấy em trong cơn mưa ấy\nĐang đứng đợi ai\n\nChorus:\nMưa rơi trên sân bay\nEm đứng đó một mình\nNhìn máy bay cất cánh\nBay về phía thiên đường\n\nVerse 2:\nCó biết rằng người đã xa rồi\nKhông bao giờ trở về\nNhưng em vẫn đứng đây\nChờ đợi một phép màu`,\n    chords: [\n      { chord: 'Am', position: 15, line: 0 },\n      { chord: 'Dm', position: 8, line: 1 },\n      { chord: 'G', position: 12, line: 2 },\n      { chord: 'C', position: 6, line: 3 },\n      { chord: 'Am', position: 10, line: 5 },\n      { chord: 'F', position: 8, line: 6 },\n      { chord: 'G', position: 12, line: 7 },\n      { chord: 'C', position: 15, line: 8 },\n      { chord: 'Dm', position: 18, line: 10 },\n      { chord: 'Am', position: 12, line: 11 },\n      { chord: 'F', position: 10, line: 12 },\n      { chord: 'G', position: 8, line: 13 },\n    ]\n  };\n\n  const lyricsLines = song.lyrics.split('\\n');\n\n  useEffect(() => {\n    if (isPlaying) {\n      intervalRef.current = setInterval(() => {\n        setCurrentLine((prev) => {\n          if (prev < lyricsLines.length - 1) {\n            return prev + 1;\n          } else {\n            setIsPlaying(false);\n            return 0;\n          }\n        });\n      }, (60 / song.tempo) * 1000 / scrollSpeed);\n    } else {\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current);\n      }\n    }\n\n    return () => {\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current);\n      }\n    };\n  }, [isPlaying, scrollSpeed, song.tempo, lyricsLines.length]);\n\n  useEffect(() => {\n    if (scrollContainerRef.current) {\n      const container = scrollContainerRef.current;\n      const lineHeight = 60;\n      const targetScroll = currentLine * lineHeight - container.clientHeight / 2;\n      container.scrollTo({\n        top: Math.max(0, targetScroll),\n        behavior: 'smooth',\n      });\n    }\n  }, [currentLine]);\n\n  const togglePlayPause = () => {\n    setIsPlaying(!isPlaying);\n  };\n\n  const handleChordClick = (chord: string) => {\n    setSelectedChord(chord);\n    setShowChordDialog(true);\n  };\n\n  const renderLineWithChords = (line: string, lineIndex: number) => {\n    const lineChords = song.chords.filter(c => c.line === lineIndex);\n    \n    if (lineChords.length === 0) {\n      return (\n        <Typography\n          key={lineIndex}\n          variant=\"h6\"\n          sx={{\n            py: 1,\n            backgroundColor: currentLine === lineIndex ? 'primary.light' : 'transparent',\n            color: currentLine === lineIndex ? 'white' : 'inherit',\n            borderRadius: 1,\n            px: 2,\n            transition: 'all 0.3s ease',\n          }}\n        >\n          {line}\n        </Typography>\n      );\n    }\n\n    const parts = [];\n    let lastPos = 0;\n\n    lineChords\n      .sort((a, b) => a.position - b.position)\n      .forEach((chordPos, index) => {\n        if (chordPos.position > lastPos) {\n          parts.push(line.slice(lastPos, chordPos.position));\n        }\n        \n        parts.push(\n          <Chip\n            key={`chord-${index}`}\n            label={chordPos.chord}\n            onClick={() => handleChordClick(chordPos.chord)}\n            variant=\"outlined\"\n            size=\"small\"\n            sx={{\n              mx: 0.5,\n              cursor: 'pointer',\n              '&:hover': { backgroundColor: 'primary.light' },\n            }}\n          />\n        );\n        \n        lastPos = chordPos.position;\n      });\n\n    if (lastPos < line.length) {\n      parts.push(line.slice(lastPos));\n    }\n\n    return (\n      <Box\n        key={lineIndex}\n        sx={{\n          py: 1,\n          backgroundColor: currentLine === lineIndex ? 'primary.light' : 'transparent',\n          color: currentLine === lineIndex ? 'white' : 'inherit',\n          borderRadius: 1,\n          px: 2,\n          transition: 'all 0.3s ease',\n          display: 'flex',\n          alignItems: 'center',\n          flexWrap: 'wrap',\n          minHeight: '40px',\n        }}\n      >\n        <Typography variant=\"h6\" component=\"span\">\n          {parts}\n        </Typography>\n      </Box>\n    );\n  };\n\n  return (\n    <Container maxWidth=\"md\" sx={{ py: 4 }}>\n      <Box display=\"flex\" flexDirection=\"column\" gap={4}>\n        <Box display=\"flex\" alignItems=\"center\" gap={2}>\n          <IconButton onClick={() => navigate('/')}>\n            <ArrowBackRounded />\n          </IconButton>\n          <Box>\n            <Typography variant=\"h4\" component=\"h1\" fontWeight=\"bold\">\n              {song.title}\n            </Typography>\n            <Typography variant=\"h6\" color=\"text.secondary\">\n              {song.artist}\n            </Typography>\n          </Box>\n        </Box>\n\n        <Card>\n          <CardContent>\n            <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" gap={2} mb={2}>\n              <IconButton size=\"large\">\n                <SkipPreviousRounded />\n              </IconButton>\n              \n              <IconButton size=\"large\" onClick={togglePlayPause} color=\"primary\">\n                {isPlaying ? <PauseRounded /> : <PlayArrowRounded />}\n              </IconButton>\n              \n              <IconButton size=\"large\">\n                <SkipNextRounded />\n              </IconButton>\n            </Box>\n\n            <Box display=\"flex\" alignItems=\"center\" gap={2} mb={2}>\n              <SpeedRounded />\n              <Typography variant=\"body2\">Tốc độ cuộn:</Typography>\n              <Slider\n                value={scrollSpeed}\n                onChange={(_, value) => setScrollSpeed(value as number)}\n                min={0.5}\n                max={3}\n                step={0.1}\n                sx={{ width: 200 }}\n                valueLabelDisplay=\"auto\"\n                valueLabelFormat={(value) => `${value}x`}\n              />\n            </Box>\n          </CardContent>\n        </Card>\n\n        <Paper\n          ref={scrollContainerRef}\n          sx={{\n            maxHeight: '60vh',\n            overflow: 'auto',\n            p: 3,\n            backgroundColor: 'grey.50',\n          }}\n        >\n          {lyricsLines.map((line, index) => renderLineWithChords(line, index))}\n        </Paper>\n\n        <Box display=\"flex\" gap={2} flexWrap=\"wrap\" justifyContent=\"center\">\n          <Typography variant=\"h6\" width=\"100%\" textAlign=\"center\" mb={1}>\n            Hợp âm trong bài:\n          </Typography>\n          {Array.from(new Set(song.chords.map(c => c.chord))).map((chord) => (\n            <Chip\n              key={chord}\n              label={chord}\n              onClick={() => handleChordClick(chord)}\n              variant=\"outlined\"\n              sx={{ cursor: 'pointer', '&:hover': { backgroundColor: 'primary.light' } }}\n            />\n          ))}\n        </Box>\n      </Box>\n\n      <Dialog\n        open={showChordDialog}\n        onClose={() => setShowChordDialog(false)}\n        maxWidth=\"sm\"\n        fullWidth\n      >\n        <DialogTitle>Hợp âm {selectedChord}</DialogTitle>\n        <DialogContent>\n          <Box textAlign=\"center\" py={2}>\n            <Typography variant=\"body1\" mb={2}>\n              Bấm vào để xem chi tiết cách bấm hợp âm {selectedChord}\n            </Typography>\n            <Button\n              variant=\"contained\"\n              onClick={() => {\n                setShowChordDialog(false);\n                navigate(`/chord/${selectedChord}`);\n              }}\n            >\n              Xem hướng dẫn chi tiết\n            </Button>\n          </Box>\n        </DialogContent>\n      </Dialog>\n    </Container>\n  );\n};\n\nexport default MusicPlayer;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAC1D,OAASC,WAAW,CAAEC,SAAS,KAAQ,kBAAkB,CACzD,OACEC,SAAS,CACTC,GAAG,CACHC,UAAU,CACVC,MAAM,CACNC,IAAI,CACJC,WAAW,CACXC,UAAU,CACVC,MAAM,CACNC,IAAI,CACJC,MAAM,CACNC,WAAW,CACXC,aAAa,CACbC,KAAK,KACA,eAAe,CACtB,OACEC,gBAAgB,CAChBC,gBAAgB,CAChBC,YAAY,CACZC,mBAAmB,CACnBC,eAAe,CACfC,YAAY,KACP,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAiB7B,KAAM,CAAAC,WAAqB,CAAGA,CAAA,GAAM,CAClC,KAAM,CAAAC,QAAQ,CAAG1B,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAE2B,MAAO,CAAC,CAAG1B,SAAS,CAAC,CAAC,CAC9B,KAAM,CAAC2B,SAAS,CAAEC,YAAY,CAAC,CAAGhC,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAACiC,WAAW,CAAEC,cAAc,CAAC,CAAGlC,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAACmC,WAAW,CAAEC,cAAc,CAAC,CAAGpC,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAACqC,aAAa,CAAEC,gBAAgB,CAAC,CAAGtC,QAAQ,CAAgB,IAAI,CAAC,CACvE,KAAM,CAACuC,eAAe,CAAEC,kBAAkB,CAAC,CAAGxC,QAAQ,CAAC,KAAK,CAAC,CAC7D,KAAM,CAAAyC,kBAAkB,CAAGvC,MAAM,CAAiB,IAAI,CAAC,CACvD,KAAM,CAAAwC,WAAW,CAAGxC,MAAM,CAAwB,IAAI,CAAC,CAEvD,KAAM,CAAAyC,IAAU,CAAG,CACjBC,EAAE,CAAEd,MAAM,EAAI,GAAG,CACjBe,KAAK,CAAE,gBAAgB,CACvBC,MAAM,CAAE,YAAY,CACpBC,KAAK,CAAE,EAAE,CACTC,MAAM,CAAE;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,CACjBC,MAAM,CAAE,CACN,CAAEC,KAAK,CAAE,IAAI,CAAEC,QAAQ,CAAE,EAAE,CAAEC,IAAI,CAAE,CAAE,CAAC,CACtC,CAAEF,KAAK,CAAE,IAAI,CAAEC,QAAQ,CAAE,CAAC,CAAEC,IAAI,CAAE,CAAE,CAAC,CACrC,CAAEF,KAAK,CAAE,GAAG,CAAEC,QAAQ,CAAE,EAAE,CAAEC,IAAI,CAAE,CAAE,CAAC,CACrC,CAAEF,KAAK,CAAE,GAAG,CAAEC,QAAQ,CAAE,CAAC,CAAEC,IAAI,CAAE,CAAE,CAAC,CACpC,CAAEF,KAAK,CAAE,IAAI,CAAEC,QAAQ,CAAE,EAAE,CAAEC,IAAI,CAAE,CAAE,CAAC,CACtC,CAAEF,KAAK,CAAE,GAAG,CAAEC,QAAQ,CAAE,CAAC,CAAEC,IAAI,CAAE,CAAE,CAAC,CACpC,CAAEF,KAAK,CAAE,GAAG,CAAEC,QAAQ,CAAE,EAAE,CAAEC,IAAI,CAAE,CAAE,CAAC,CACrC,CAAEF,KAAK,CAAE,GAAG,CAAEC,QAAQ,CAAE,EAAE,CAAEC,IAAI,CAAE,CAAE,CAAC,CACrC,CAAEF,KAAK,CAAE,IAAI,CAAEC,QAAQ,CAAE,EAAE,CAAEC,IAAI,CAAE,EAAG,CAAC,CACvC,CAAEF,KAAK,CAAE,IAAI,CAAEC,QAAQ,CAAE,EAAE,CAAEC,IAAI,CAAE,EAAG,CAAC,CACvC,CAAEF,KAAK,CAAE,GAAG,CAAEC,QAAQ,CAAE,EAAE,CAAEC,IAAI,CAAE,EAAG,CAAC,CACtC,CAAEF,KAAK,CAAE,GAAG,CAAEC,QAAQ,CAAE,CAAC,CAAEC,IAAI,CAAE,EAAG,CAAC,CAEzC,CAAC,CAED,KAAM,CAAAC,WAAW,CAAGV,IAAI,CAACK,MAAM,CAACM,KAAK,CAAC,IAAI,CAAC,CAE3CrD,SAAS,CAAC,IAAM,CACd,GAAI8B,SAAS,CAAE,CACbW,WAAW,CAACa,OAAO,CAAGC,WAAW,CAAC,IAAM,CACtCtB,cAAc,CAAEuB,IAAI,EAAK,CACvB,GAAIA,IAAI,CAAGJ,WAAW,CAACK,MAAM,CAAG,CAAC,CAAE,CACjC,MAAO,CAAAD,IAAI,CAAG,CAAC,CACjB,CAAC,IAAM,CACLzB,YAAY,CAAC,KAAK,CAAC,CACnB,MAAO,EAAC,CACV,CACF,CAAC,CAAC,CACJ,CAAC,CAAG,EAAE,CAAGW,IAAI,CAACI,KAAK,CAAI,IAAI,CAAGZ,WAAW,CAAC,CAC5C,CAAC,IAAM,CACL,GAAIO,WAAW,CAACa,OAAO,CAAE,CACvBI,aAAa,CAACjB,WAAW,CAACa,OAAO,CAAC,CACpC,CACF,CAEA,MAAO,IAAM,CACX,GAAIb,WAAW,CAACa,OAAO,CAAE,CACvBI,aAAa,CAACjB,WAAW,CAACa,OAAO,CAAC,CACpC,CACF,CAAC,CACH,CAAC,CAAE,CAACxB,SAAS,CAAEI,WAAW,CAAEQ,IAAI,CAACI,KAAK,CAAEM,WAAW,CAACK,MAAM,CAAC,CAAC,CAE5DzD,SAAS,CAAC,IAAM,CACd,GAAIwC,kBAAkB,CAACc,OAAO,CAAE,CAC9B,KAAM,CAAAK,SAAS,CAAGnB,kBAAkB,CAACc,OAAO,CAC5C,KAAM,CAAAM,UAAU,CAAG,EAAE,CACrB,KAAM,CAAAC,YAAY,CAAG7B,WAAW,CAAG4B,UAAU,CAAGD,SAAS,CAACG,YAAY,CAAG,CAAC,CAC1EH,SAAS,CAACI,QAAQ,CAAC,CACjBC,GAAG,CAAEC,IAAI,CAACC,GAAG,CAAC,CAAC,CAAEL,YAAY,CAAC,CAC9BM,QAAQ,CAAE,QACZ,CAAC,CAAC,CACJ,CACF,CAAC,CAAE,CAACnC,WAAW,CAAC,CAAC,CAEjB,KAAM,CAAAoC,eAAe,CAAGA,CAAA,GAAM,CAC5BrC,YAAY,CAAC,CAACD,SAAS,CAAC,CAC1B,CAAC,CAED,KAAM,CAAAuC,gBAAgB,CAAIpB,KAAa,EAAK,CAC1CZ,gBAAgB,CAACY,KAAK,CAAC,CACvBV,kBAAkB,CAAC,IAAI,CAAC,CAC1B,CAAC,CAED,KAAM,CAAA+B,oBAAoB,CAAGA,CAACnB,IAAY,CAAEoB,SAAiB,GAAK,CAChE,KAAM,CAAAC,UAAU,CAAG9B,IAAI,CAACM,MAAM,CAACyB,MAAM,CAACC,CAAC,EAAIA,CAAC,CAACvB,IAAI,GAAKoB,SAAS,CAAC,CAEhE,GAAIC,UAAU,CAACf,MAAM,GAAK,CAAC,CAAE,CAC3B,mBACEjC,IAAA,CAAClB,UAAU,EAETqE,OAAO,CAAC,IAAI,CACZC,EAAE,CAAE,CACFC,EAAE,CAAE,CAAC,CACLC,eAAe,CAAE9C,WAAW,GAAKuC,SAAS,CAAG,eAAe,CAAG,aAAa,CAC5EQ,KAAK,CAAE/C,WAAW,GAAKuC,SAAS,CAAG,OAAO,CAAG,SAAS,CACtDS,YAAY,CAAE,CAAC,CACfC,EAAE,CAAE,CAAC,CACLC,UAAU,CAAE,eACd,CAAE,CAAAC,QAAA,CAEDhC,IAAI,EAXAoB,SAYK,CAAC,CAEjB,CAEA,KAAM,CAAAa,KAAK,CAAG,EAAE,CAChB,GAAI,CAAAC,OAAO,CAAG,CAAC,CAEfb,UAAU,CACPc,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAKD,CAAC,CAACrC,QAAQ,CAAGsC,CAAC,CAACtC,QAAQ,CAAC,CACvCuC,OAAO,CAAC,CAACC,QAAQ,CAAEC,KAAK,GAAK,CAC5B,GAAID,QAAQ,CAACxC,QAAQ,CAAGmC,OAAO,CAAE,CAC/BD,KAAK,CAACQ,IAAI,CAACzC,IAAI,CAAC0C,KAAK,CAACR,OAAO,CAAEK,QAAQ,CAACxC,QAAQ,CAAC,CAAC,CACpD,CAEAkC,KAAK,CAACQ,IAAI,cACRpE,IAAA,CAACZ,IAAI,EAEHkF,KAAK,CAAEJ,QAAQ,CAACzC,KAAM,CACtB8C,OAAO,CAAEA,CAAA,GAAM1B,gBAAgB,CAACqB,QAAQ,CAACzC,KAAK,CAAE,CAChD0B,OAAO,CAAC,UAAU,CAClBqB,IAAI,CAAC,OAAO,CACZpB,EAAE,CAAE,CACFqB,EAAE,CAAE,GAAG,CACPC,MAAM,CAAE,SAAS,CACjB,SAAS,CAAE,CAAEpB,eAAe,CAAE,eAAgB,CAChD,CAAE,EATG,SAASa,KAAK,EAUpB,CACH,CAAC,CAEDN,OAAO,CAAGK,QAAQ,CAACxC,QAAQ,CAC7B,CAAC,CAAC,CAEJ,GAAImC,OAAO,CAAGlC,IAAI,CAACM,MAAM,CAAE,CACzB2B,KAAK,CAACQ,IAAI,CAACzC,IAAI,CAAC0C,KAAK,CAACR,OAAO,CAAC,CAAC,CACjC,CAEA,mBACE7D,IAAA,CAACnB,GAAG,EAEFuE,EAAE,CAAE,CACFC,EAAE,CAAE,CAAC,CACLC,eAAe,CAAE9C,WAAW,GAAKuC,SAAS,CAAG,eAAe,CAAG,aAAa,CAC5EQ,KAAK,CAAE/C,WAAW,GAAKuC,SAAS,CAAG,OAAO,CAAG,SAAS,CACtDS,YAAY,CAAE,CAAC,CACfC,EAAE,CAAE,CAAC,CACLC,UAAU,CAAE,eAAe,CAC3BiB,OAAO,CAAE,MAAM,CACfC,UAAU,CAAE,QAAQ,CACpBC,QAAQ,CAAE,MAAM,CAChBC,SAAS,CAAE,MACb,CAAE,CAAAnB,QAAA,cAEF3D,IAAA,CAAClB,UAAU,EAACqE,OAAO,CAAC,IAAI,CAAC4B,SAAS,CAAC,MAAM,CAAApB,QAAA,CACtCC,KAAK,CACI,CAAC,EAhBRb,SAiBF,CAAC,CAEV,CAAC,CAED,mBACE7C,KAAA,CAACtB,SAAS,EAACoG,QAAQ,CAAC,IAAI,CAAC5B,EAAE,CAAE,CAAEC,EAAE,CAAE,CAAE,CAAE,CAAAM,QAAA,eACrCzD,KAAA,CAACrB,GAAG,EAAC8F,OAAO,CAAC,MAAM,CAACM,aAAa,CAAC,QAAQ,CAACC,GAAG,CAAE,CAAE,CAAAvB,QAAA,eAChDzD,KAAA,CAACrB,GAAG,EAAC8F,OAAO,CAAC,MAAM,CAACC,UAAU,CAAC,QAAQ,CAACM,GAAG,CAAE,CAAE,CAAAvB,QAAA,eAC7C3D,IAAA,CAACd,UAAU,EAACqF,OAAO,CAAEA,CAAA,GAAMnE,QAAQ,CAAC,GAAG,CAAE,CAAAuD,QAAA,cACvC3D,IAAA,CAACP,gBAAgB,GAAE,CAAC,CACV,CAAC,cACbS,KAAA,CAACrB,GAAG,EAAA8E,QAAA,eACF3D,IAAA,CAAClB,UAAU,EAACqE,OAAO,CAAC,IAAI,CAAC4B,SAAS,CAAC,IAAI,CAACI,UAAU,CAAC,MAAM,CAAAxB,QAAA,CACtDzC,IAAI,CAACE,KAAK,CACD,CAAC,cACbpB,IAAA,CAAClB,UAAU,EAACqE,OAAO,CAAC,IAAI,CAACI,KAAK,CAAC,gBAAgB,CAAAI,QAAA,CAC5CzC,IAAI,CAACG,MAAM,CACF,CAAC,EACV,CAAC,EACH,CAAC,cAENrB,IAAA,CAAChB,IAAI,EAAA2E,QAAA,cACHzD,KAAA,CAACjB,WAAW,EAAA0E,QAAA,eACVzD,KAAA,CAACrB,GAAG,EAAC8F,OAAO,CAAC,MAAM,CAACS,cAAc,CAAC,QAAQ,CAACR,UAAU,CAAC,QAAQ,CAACM,GAAG,CAAE,CAAE,CAACG,EAAE,CAAE,CAAE,CAAA1B,QAAA,eAC5E3D,IAAA,CAACd,UAAU,EAACsF,IAAI,CAAC,OAAO,CAAAb,QAAA,cACtB3D,IAAA,CAACJ,mBAAmB,GAAE,CAAC,CACb,CAAC,cAEbI,IAAA,CAACd,UAAU,EAACsF,IAAI,CAAC,OAAO,CAACD,OAAO,CAAE3B,eAAgB,CAACW,KAAK,CAAC,SAAS,CAAAI,QAAA,CAC/DrD,SAAS,cAAGN,IAAA,CAACL,YAAY,GAAE,CAAC,cAAGK,IAAA,CAACN,gBAAgB,GAAE,CAAC,CAC1C,CAAC,cAEbM,IAAA,CAACd,UAAU,EAACsF,IAAI,CAAC,OAAO,CAAAb,QAAA,cACtB3D,IAAA,CAACH,eAAe,GAAE,CAAC,CACT,CAAC,EACV,CAAC,cAENK,KAAA,CAACrB,GAAG,EAAC8F,OAAO,CAAC,MAAM,CAACC,UAAU,CAAC,QAAQ,CAACM,GAAG,CAAE,CAAE,CAACG,EAAE,CAAE,CAAE,CAAA1B,QAAA,eACpD3D,IAAA,CAACF,YAAY,GAAE,CAAC,cAChBE,IAAA,CAAClB,UAAU,EAACqE,OAAO,CAAC,OAAO,CAAAQ,QAAA,CAAC,kCAAY,CAAY,CAAC,cACrD3D,IAAA,CAACb,MAAM,EACLmG,KAAK,CAAE5E,WAAY,CACnB6E,QAAQ,CAAEA,CAACC,CAAC,CAAEF,KAAK,GAAK3E,cAAc,CAAC2E,KAAe,CAAE,CACxDG,GAAG,CAAE,GAAI,CACT/C,GAAG,CAAE,CAAE,CACPgD,IAAI,CAAE,GAAI,CACVtC,EAAE,CAAE,CAAEuC,KAAK,CAAE,GAAI,CAAE,CACnBC,iBAAiB,CAAC,MAAM,CACxBC,gBAAgB,CAAGP,KAAK,EAAK,GAAGA,KAAK,GAAI,CAC1C,CAAC,EACC,CAAC,EACK,CAAC,CACV,CAAC,cAEPtF,IAAA,CAACR,KAAK,EACJsG,GAAG,CAAE9E,kBAAmB,CACxBoC,EAAE,CAAE,CACF2C,SAAS,CAAE,MAAM,CACjBC,QAAQ,CAAE,MAAM,CAChBC,CAAC,CAAE,CAAC,CACJ3C,eAAe,CAAE,SACnB,CAAE,CAAAK,QAAA,CAED/B,WAAW,CAACsE,GAAG,CAAC,CAACvE,IAAI,CAAEwC,KAAK,GAAKrB,oBAAoB,CAACnB,IAAI,CAAEwC,KAAK,CAAC,CAAC,CAC/D,CAAC,cAERjE,KAAA,CAACrB,GAAG,EAAC8F,OAAO,CAAC,MAAM,CAACO,GAAG,CAAE,CAAE,CAACL,QAAQ,CAAC,MAAM,CAACO,cAAc,CAAC,QAAQ,CAAAzB,QAAA,eACjE3D,IAAA,CAAClB,UAAU,EAACqE,OAAO,CAAC,IAAI,CAACwC,KAAK,CAAC,MAAM,CAACQ,SAAS,CAAC,QAAQ,CAACd,EAAE,CAAE,CAAE,CAAA1B,QAAA,CAAC,8BAEhE,CAAY,CAAC,CACZyC,KAAK,CAACC,IAAI,CAAC,GAAI,CAAAC,GAAG,CAACpF,IAAI,CAACM,MAAM,CAAC0E,GAAG,CAAChD,CAAC,EAAIA,CAAC,CAACzB,KAAK,CAAC,CAAC,CAAC,CAACyE,GAAG,CAAEzE,KAAK,eAC5DzB,IAAA,CAACZ,IAAI,EAEHkF,KAAK,CAAE7C,KAAM,CACb8C,OAAO,CAAEA,CAAA,GAAM1B,gBAAgB,CAACpB,KAAK,CAAE,CACvC0B,OAAO,CAAC,UAAU,CAClBC,EAAE,CAAE,CAAEsB,MAAM,CAAE,SAAS,CAAE,SAAS,CAAE,CAAEpB,eAAe,CAAE,eAAgB,CAAE,CAAE,EAJtE7B,KAKN,CACF,CAAC,EACC,CAAC,EACH,CAAC,cAENvB,KAAA,CAACb,MAAM,EACLkH,IAAI,CAAEzF,eAAgB,CACtB0F,OAAO,CAAEA,CAAA,GAAMzF,kBAAkB,CAAC,KAAK,CAAE,CACzCiE,QAAQ,CAAC,IAAI,CACbyB,SAAS,MAAA9C,QAAA,eAETzD,KAAA,CAACZ,WAAW,EAAAqE,QAAA,EAAC,iBAAO,CAAC/C,aAAa,EAAc,CAAC,cACjDZ,IAAA,CAACT,aAAa,EAAAoE,QAAA,cACZzD,KAAA,CAACrB,GAAG,EAACsH,SAAS,CAAC,QAAQ,CAAC9C,EAAE,CAAE,CAAE,CAAAM,QAAA,eAC5BzD,KAAA,CAACpB,UAAU,EAACqE,OAAO,CAAC,OAAO,CAACkC,EAAE,CAAE,CAAE,CAAA1B,QAAA,EAAC,iFACO,CAAC/C,aAAa,EAC5C,CAAC,cACbZ,IAAA,CAACjB,MAAM,EACLoE,OAAO,CAAC,WAAW,CACnBoB,OAAO,CAAEA,CAAA,GAAM,CACbxD,kBAAkB,CAAC,KAAK,CAAC,CACzBX,QAAQ,CAAC,UAAUQ,aAAa,EAAE,CAAC,CACrC,CAAE,CAAA+C,QAAA,CACH,4CAED,CAAQ,CAAC,EACN,CAAC,CACO,CAAC,EACV,CAAC,EACA,CAAC,CAEhB,CAAC,CAED,cAAe,CAAAxD,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}